primary_control_plane:
  # Specify only 1 host for primary control plane.
  hosts: 
    k8s-cp1:
      ansible_host: 192.168.0.203

secondary_control_planes:
  # Can have multiple secondary control planes.
  hosts: 
    k8s-cp2: 
      ansible_host: 192.168.0.204
    k8s-cp3: 
      ansible_host: 192.168.0.205

kubernetes_control_planes:

  children:
    primary_control_plane:
    # Uncomment these if you need redundant control planes. You will need to setup your Load balancer
    # manually outside of the kubernetes environment. Also take note that kubernetes H/A for control 
    # planes can only tolerate 1 node failure in a 3 control plane nodes configuration.
    secondary_control_planes:

kubernetes_nodes:
  hosts:
    # You can comment out these nodes if you just want to run control planes but please make sure you 
    # have atleast 3 control plane hosts defined above. 
    # k8s-wk1: 
    #   ansible_host: 192.168.0.206
    # k8s-wk2: 
    #   ansible_host: 192.168.0.207
    # k8s-wk3: 
    #   ansible_host: 192.168.0.208

# The kubernetes cluster group.
kubernetes_cluster:
  vars:
    ansible_user: root 
    ansible_become: yes
    # You can also set this in individual host if you are splitting the nodes to different physical
    # servers.
    winrm_host: local_machine     

  children:
    kubernetes_control_planes:
    kubernetes_nodes:

load_balancers:
  vars:
    ansible_user: root 
    ansible_become: yes
    # You can also set this in individual host if you are splitting the nodes to different physical
    # servers.
    winrm_host: local_machine     

  hosts:
    k8s-ha1:
      ansible_host: 192.168.0.201
    k8s-ha2:
      ansible_host: 192.168.0.202

# The nfs server to use. For this example, I just use the control plane because
# I don't have enough server resources. Don't do this for production.
nfs_server:
  hosts: # Only 1 host is supported
    k8s-nfs:
      ansible_host: 192.168.0.203
      ansible_user: root 

# This should be your local machine or an Ansible host. Winrm must be setup correctly for this to work.
# You can have more than 1 winrm host to distribute the kubernetes VMs; remember to set the winrm_host.
winrm:
  hosts:
    local_machine:
      ansible_host: 192.168.0.122
      # Refer here https://docs.ansible.com/ansible/latest/user_guide/windows_winrm.html
      ansible_winrm_cert_pem: ./certs/cert.pem
      ansible_winrm_cert_key_pem: ./certs/cert_key.pem
      # You can use username and password if you do not want to use cert.
      # ansible_user: ansible            # Create a user in your Windows
      # ansible_password: p@ssw0rd       # Provide the password for the user
      ansible_become_method: runas
      ansible_become_user: ansible       # Must set this to the user you created
      ansible_connection: winrm
      ansible_port: 5986
      ansible_winrm_transport: certificate
      ansible_winrm_server_cert_validation: ignore
