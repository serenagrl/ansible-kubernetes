# Author: Serena Yeoh
#
# Disclaimer:
# This playbook was written based on my self-learning and may not follow certain
# best practices or work properly in your environment. Use it at your own risk.
#

# As of coding this task, the python version in rhel is < 3.12. 
# This task will attempt to upgrade it.
- name: Installing pip
  ansible.builtin.dnf:
    pkg:
      - python3.12-pip
    state: latest
    update_cache: yes

- name: Installing ansible on Ansible host
  ansible.builtin.pip:
    executable: pip3.12
    break_system_packages: yes
    name:
      - ansible

- name: Installing dependencies on Ansible host
  ansible.builtin.pip:
    executable: pip3.12
    name:
      - pywinrm
      - jmespath