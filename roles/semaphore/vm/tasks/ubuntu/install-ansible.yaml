# Author: Serena Yeoh
#
# Disclaimer:
# This playbook was written based on my self-learning and may not follow certain
# best practices or work properly in your environment. Use it at your own risk.
#

- name: Installing dependencies on Ansible host
  ansible.builtin.apt:
    pkg:
      - software-properties-common
      - python3-pip
    state: latest
    update_cache: yes

- name: Installing ansible on Ansible host
  become_user:
  ansible.builtin.pip:
    break_system_packages: yes
    name:
      - ansible

- name: Installing dependencies on Ansible host
  ansible.builtin.pip:
    break_system_packages: yes
    name:
      - pywinrm
      - jmespath