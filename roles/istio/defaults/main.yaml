RELEASE: "{{ (istio.version is defined and istio.version and istio.version != 'latest') | ternary(istio.version, release_tag.stdout) }}"
ISTIO_DIR: "{{ temp_dir }}/istio-{{ RELEASE }}"
SERVICE_MONITOR_FILE: "{{ temp_dir }}/istio-{{ RELEASE }}/samples/addons/extras/prometheus-operator.yaml"
ADDONS_DIR: "{{ ISTIO_DIR }}/samples/addons"
HAS_PROMETHEUS: "{{ prometheus_status.stdout == 'Available' }}"
OPERATOR_MANIFEST_TEMPLATE: "{{ lookup('template', 'operator-manifest.j2') }}"
MANIFEST_DIR: "~/istio"
MANIFEST_FILE: "{{ MANIFEST_DIR }}/operator.yaml"

INGRESS_SETUP: "{{ './tasks/task-create-ingress-' + kube.ingress_type + '.yaml' }}"
INGRESS_TEMPLATE: "{{ lookup('template', 'ingress-' + kube.ingress_type + '.j2') | from_yaml }}"