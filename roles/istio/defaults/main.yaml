SCRAPE_CONFIG: "prometheus-additional.yaml"
SECRET_CONFIG: "additional-scrape-configs.yaml"
RELEASE: "{% if release_version is defined and release_version and release_version != 'latest' %}{{ release_version }}{% else %}{{ release_tag.stdout }}{% endif %}"
ISTIO_DIR: "{{ _work_dir }}/istio-{{ RELEASE }}"
ADDONS_DIR: "{{ ISTIO_DIR }}/samples/addons"
HAS_PROMETHEUS: "{{ prometheus_status.stdout == 'Available' }}"
SCRAPE_CONFIG_TEMPLATE: "{{ lookup('template', 'scrape-config.j2') }}"
OPERATOR_MANIFEST_TEMPLATE: "{{ lookup('template', 'operator-manifest.j2') }}"
MANIFEST_DIR: "~/istio"
MANIFEST_FILE: "{{ MANIFEST_DIR }}/operator.yaml"

INGRESS_SETUP: "{{ './tasks/task-create-ingress-' + _kube.ingress_type + '.yaml' }}"
INGRESS_TEMPLATE: "{{ lookup('template', 'ingress-' + _kube.ingress_type + '.j2') | from_yaml }}"  