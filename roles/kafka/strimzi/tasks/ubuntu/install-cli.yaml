# Author: Serena Yeoh
#
# Disclaimer:
# This playbook was written based on my self-learning and may not follow certain
# best practices or work properly in your environment. Use it at your own risk.
#

- name: Install strimzi kafka cli and pre-requisites on Ansible host
  delegate_to: localhost
  become_user: root
  block:
    - name: Installing dependency packages (may take a while)
      ansible.builtin.apt:
        pkg:
          - python3-pip
        state: latest
        update_cache: yes

    - name: Installing strimzi kafka cli on Ansible host
      ansible.builtin.pip:
        break_system_packages: yes
        name: strimzi-kafka-cli
        version: "{{ strimzi.cli.version }}"
        extra_args: -I