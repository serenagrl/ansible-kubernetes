# Author: Serena Yeoh
# Co-Author: Jaryl Lan
#
# Disclaimer:
# This playbook was written based on my self-learning and may not follow certain
# best practices or work properly in your environment. Use it at your own risk.
#

- name: Find check dependencies files
  delegate_to: localhost
  become_user: root
  ansible.builtin.find:
    paths: ./roles/common/check-dependencies/tasks
    file_type: file
    recurse: no
    patterns: 'check-*'
  register: file_result
  
- ansible.builtin.include_tasks: "{{ item | basename }}"
  loop: "{{ file_result.files | map(attribute='path') | list }}"